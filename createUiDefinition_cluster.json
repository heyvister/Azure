{  
    "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
	"handler":"Microsoft.Compute.MultiVm",
    "version":"0.1.2-preview",
    "parameters":{  
        "basics":[  
            {  
                "name":"AlteonClusterName",
                "type":"Microsoft.Common.TextBox",
                "label":"Alteon Cluster Name",
                "defaultValue":"[concat('cluster-', string(rand(1, 1000)), '-Alteon')]",
                "constraints":{  
                    "validationMessage":"Alteon cluster must start with an alphanumeric characters",
                    "required": true
                },
                "toolTip":"Alteon VA Cluster name",
                "visible":true
            },
            {  
                "name":"EnaDisAlteonClusterTag",
                "type":"Microsoft.Common.OptionsGroup",
                "label":"Enable Alteon instance tagging",
                "defaultValue":"Disable",
                "toolTip":"Enable/Disable Alteon instance tagging",
                "constraints":{  
                    "allowedValues":[  
                        {  
                            "label":"Enable",
                            "value":"Enable"
                        },
                        {  
                            "label":"Disable",
                            "value":"Disable"
                        }
                    ]
                },
                "visible":true
            },
            {  
                "name":"AlteonClusterOwnerTagName",
                "type":"Microsoft.Common.TextBox",
                "label":"Alteon Cluster Owner Tag Name",
                "defaultValue":"",
                "constraints":{  
                    "validationMessage":"Alteon cluster Owner Tag Name"
                },
                "toolTip":"Alteon VA Cluster name",
                "visible":"[equals(basics('EnaDisAlteonClusterTag'), 'Enable')]"
            },
            {  
                "name":"AlteonClusterUserDefinedTag",
                "type":"Microsoft.Common.Section",
                "label":"User defined Tag name",
                "elements": [
                    {
                        "name": "TagName",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Add user defined tag name",
                        "toolTip":"Add user defined tag name",
                        "defaultValue":""
                      },
                      {
                        "name": "TagValue",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Add user defined tag value",
                        "toolTip":"Add user defined tag value",
                        "defaultValue":""
                      }                   
                ],
                "visible":"[equals(basics('EnaDisAlteonClusterTag'), 'Enable')]"
            }                                    
        ],
        "steps":[         
            {  
                "name":"VmssInstanceCredentials",
                "label":"Alteon Instance Credentials",
                "subLabel":{  
                    "preValidation":"Configure Alteon instance credentials settings",
                    "postValidation":"Done"
                },
                "bladeTitle":" Alteon instance credentials settings",
                "elements":[  
                    {  
                        "name":"adminUsername",
                        "type":"Microsoft.Compute.UserNameTextBox",
                        "label":"Username",
                        "toolTip":"Administrator user name for the Alteon virtual VA machine",
                        "osPlatform":"Linux",
                        "constraints": {
                            "required": true
                        }
                    },
                    {  
                        "name":"adminPassword",
                        "type":"Microsoft.Compute.CredentialsCombo",
                        "label":{  
                            "authenticationType":"Alteon instance credentials",
                            "password":"Password",
                            "confirmPassword":"Confirm password",
                            "sshPublicKey":"Note that SSH key isn't supported"
                        },
                        "toolTip":{  
                            "password":"Admin password for the virtual machines",
                            "sshPublicKey":"Note that SSH key isn't supported"
                        },
                        "options":{  
                            "hideConfirmation":false,
                            "hidePassword":false
                        },
                        "constraints": {
                            "required": true
                        },
                        "osPlatform":"Linux"
                    }          
                ]
            },
            {  
                "name":"GelSettings",
                "label":"GEL Settings",
                "subLabel":{  
                    "preValidation":"Configure GEL settings",
                    "postValidation":"Done"
                },
                "bladeTitle":"License Server Mode",
                "elements":[  
                    {  
                        "name":"ClsLlsGelSettings",
                        "type":"Microsoft.Common.OptionsGroup",
                        "label":"License Server Mode",
                        "defaultValue":"Local",
                        "toolTip":"Cloud/Local GEL setting",
                        "constraints":{  
                            "allowedValues":[  
                                {  
                                    "label":"Cloud",
                                    "value":"Cloud"
                                },
                                {  
                                    "label":"Local",
                                    "value":"Local"
                                }
                            ]
                        },
                        "visible":true
                    },
                    {  
                        "name":"CloudDeviceId",
                        "type":"Microsoft.Common.TextBox",
                        "label":"CLS Device ID",
                        "defaultValue": "",
                        "toolTip":"Cloud license server ID or full URL",
                        "constraints":{  
                            "required":true
                        },                      
                        "visible":"[equals(steps('GelSettings').ClsLlsGelSettings, 'Cloud')]"
                    },                                             
                    {  
                        "name":"PrimaryLlsIP",
                        "type":"Microsoft.Common.TextBox",
                        "label":"Primary LLS IP Address",
                        "defaultValue":"",
                        "toolTip":"Primary LLS IP Address",
                        "constraints":{  
                            "required":true,
                            "validationMessage":"Format should be a valid IPv4 address or domain name"
                        },
                        "visible":"[equals(steps('GelSettings').ClsLlsGelSettings, 'Local')]"     
                    },
                    {  
                        "name":"SecondaryLlsIP",
                        "type":"Microsoft.Common.TextBox",
                        "label":"Secondary LLS IP Address",
                        "defaultValue":"",
                        "toolTip":"Secondary LLS IP Address",
                        "constraints":{  
                            "validationMessage":"Format should be a valid IPv4 address or domain name"
                        },
                        "visible":"[equals(steps('GelSettings').ClsLlsGelSettings, 'Local')]"     
                    },
                    {  
                        "name":"EntitlementId",
                        "type":"Microsoft.Common.TextBox",
                        "label":"Entitlement ID",
                        "defaultValue":"",
                        "toolTip":"Set Entitlement ID",
                        "constraints":{  
                            "required":true,
                            "validationMessage":"Format should be a valid Entitlement Id value"
                        } 
                    },                    
                    {
                        "name":"ThroughputLicense",
                        "type":"Microsoft.Common.DropDown",
                        "label":"License throughput (Mbps)",
                        "defaultValue":"25",
                        "toolTip":"Choose licence server available throughput (Mbps)",
                        "constraints":{ 
                            "allowedValues":[
                                {  
                                    "label":"25",
                                    "value":"25"
                                },   
                                {  
                                    "label":"50",
                                    "value":"50"
                                },                                    
                                {  
                                    "label":"100",
                                    "value":"100"
                                },                                                                 
                                {  
                                    "label":"200",
                                    "value":"200"
                                },
                                {  
                                    "label":"500",
                                    "value":"500"
                                },                                
                                {  
                                    "label":"1000",
                                    "value":"1000"
                                }                                                                                           
                            ]
                        }  
                    },                     
                    {
                        "name":"AddOnSubsciption",
                        "type":"Microsoft.Common.DropDown",
                        "label":"Add-On Subsciption",
                        "defaultValue":"none",
                        "toolTip":"Add-On Subsciption",
                        "constraints":{ 
                            "allowedValues":[
                                {
                                    "label":"none",
                                    "value":"none" 
                                },
                                {
                                    "label":"Perform",
                                    "value":"Perform" 
                                },                                       
                                {
                                    "label":"Secure",
                                    "value":"Secure" 
                                }                                                                  
                            ]                            
                        },
                        "visible": true
                    }                                                                                                             
              ]
            },
            {  
                "name":"ScalesetSettings",
                "label":"Scaleset settings",
                "subLabel":{  
                    "preValidation":"Configure Alteon cluster",
                    "postValidation":"Done"
                },
                "bladeTitle":"Advanced Scaleset Settings",
                "elements":[
                    {
                        "name":"LbPublicIpAddress",
                        "type":"Microsoft.Network.PublicIpAddressCombo",
                        "label": {
                            "publicIpAddress":"Public IP address for Alteon cluster",
                            "domainNameLabel":"Hostname name Alteon cluster"
                        },
                        "toolTip":{
                            "publicIpAddress": "Public IP address for Alteon cluster"                     
                        },
                        "defaultValue":{  
                            "publicIpAddressName":"[concat(basics('AlteonClusterName'), '-ip')]",
                            "domainNameLabel":"[concat(basics('AlteonClusterName'), '-ip')]"
                        },
                        "options":{  
                            "hideNone":true,
                            "hideExisting":true,
                            "hideDomainNameLabel":true,
                                    
                        },                                                   
                        "visible":true           
                    },                           
                    {  
                        "name":"EnaDisScalesetSettings",
                        "type":"Microsoft.Common.OptionsGroup",
                        "label":"Enable/Disable advanced Scaleset settings",
                        "defaultValue":"Disable",
                        "toolTip":"Enable/Disable advanced Scaleset settings",
                        "constraints":{  
                            "allowedValues":[  
                                {  
                                    "label":"Enable",
                                    "value":"Enable"
                                },
                                {  
                                    "label":"Disable",
                                    "value":"Disable"
                                }
                            ]
                        },
                        "visible":true
                    },
                    {  
                        "name":"InstanceSize",
                        "type":"Microsoft.Compute.SizeSelector",
                        "label":"Instance size",
                        "toolTip":"The size of scaleset virtual machine/s",
                        "recommendedSizes":[
                            "Standard_A1",
                            "Standard_A2",
                            "Standard_A3",
                            "Standard_D1",  
                            "Standard_D2",
                            "Standard_D3"  
                        ],
                        "constraints":{  
                            "allowedSizes":[ 
                                "Standard_A1_v2", 
                                "Standard_A2",
                                "Standard_A3",                                
                                "Standard_DS1_V2",
                                "Standard_DS2_V2",
                                "Standard_DS3_V2",
                                "Standard_DS4_V2",
                                "Standard_DS5_V2",
                                "Standard_DS11_V2",
                                "Standard_D2",
                                "Standard_D3",
                                "Standard_D4",
                                "Standard_D11",
                                "Standard_D12",
                                "Standard_D13",
                                "Standard_D14"
                            ]
                        },				
                        "osPlatform":"Linux",
                        "imageReference":{  
                            "publisher":"radware",
                            "offer":"radware-alteon-va",
                            "sku":"radware-alteon-ng-va-adc"
                        },
						"visible":"[equals(steps('ScalesetSettings').EnaDisScalesetSettings, 'Enable')]" 								
                    },
                    {
                        "name":"MinNumOfVMs",
                        "type":"Microsoft.Common.TextBox",
                        "label":"Minimum number of VMs",
                        "defaultValue":"2",
                        "toolTip":"Define minimum of scaleset VMs",
                        "constraints":{ 
                            "required": true,
                            "regex":"^((?!0)[0-9]*)$",
                            "validationMessage": "Only numeric characters are allowed 1-10"
                        },
                        "visible":"[equals(steps('ScalesetSettings').EnaDisScalesetSettings, 'Enable')]"           
                    },              
                    {
                        "name":"MaxNumOfVMs",
                        "type":"Microsoft.Common.TextBox",
                        "label":"Maximum number of VMs",
                        "defaultValue":"10",
                        "toolTip":"Define maximum of scaleset VMs",
                        "constraints":{ 
                            "required": true,
                            "regex":"^((?!0)[0-9]*)$",
                            "validationMessage": "Only numeric characters are allowed 1-10"
                        },
                        "visible":"[equals(steps('ScalesetSettings').EnaDisScalesetSettings, 'Enable')]"           
                    },
                    {
                        "name":"ScalesetScaleOut",
                        "type":"Microsoft.Common.Section",
                        "label":"Scale out",
                        "elements": [
                            {
                              "name": "ScaleOutCpuThreshold",
                              "type": "Microsoft.Common.TextBox",
                              "defaultValue":"80",
                              "constraints":{ 
                                "regex": "^100(\\.0{0,2}?)?$|^\\d{0,2}(\\.\\d{0,2})?$"
                              },                              
                              "label": "CPU threshold (%)"
                            },
                            {
                              "name": "ScaleOutInboundTraffic",
                              "type": "Microsoft.Common.TextBox",
                              "defaultValue":"80",
                              "constraints":{ 
                                "regex": "^100(\\.0{0,2}?)?$|^\\d{0,2}(\\.\\d{0,2})?$"
                              },                              
                              "label": "[concat('Inbound traffic (%) of ', steps('GelSettings').ThroughputLicense, 'Mbps')]"
                            },
                            {
                                "name": "ScaleOutIncreaseBy",
                                "type": "Microsoft.Common.TextBox",
                                "defaultValue":"1",
                                "label": "Number of VMs to increase by"
                              }                            
                        ],
                        "visible":"[equals(steps('ScalesetSettings').EnaDisScalesetSettings, 'Enable')]"           
                    },
                    {
                        "name":"ScalesetScaleIn",
                        "type":"Microsoft.Common.Section",
                        "label":"Scale in",
                        "elements": [
                            {
                              "name": "ScaleInCpuThreshold",
                              "type": "Microsoft.Common.TextBox",
                              "defaultValue":"60",
                              "constraints":{ 
                                "regex": "^100(\\.0{0,2}?)?$|^\\d{0,2}(\\.\\d{0,2})?$"
                              },                              
                              "label": "CPU threshold (%)"
                            },
                            {
                              "name": "ScaleInInboundTraffic",
                              "type": "Microsoft.Common.TextBox",
                              "defaultValue":"60",
                              "constraints":{ 
                                "regex": "^100(\\.0{0,2}?)?$|^\\d{0,2}(\\.\\d{0,2})?$"
                              },
                              "label": "[concat('Inbound traffic (%) of ', steps('GelSettings').ThroughputLicense, 'Mbps')]"
                            },
                            {
                                "name": "ScaleInDecreaseBy",
                                "type": "Microsoft.Common.TextBox",
                                "defaultValue":"1",
                                "label": "Number of VMs to decreased by"
                              }                            
                        ],
                        "visible":"[equals(steps('ScalesetSettings').EnaDisScalesetSettings, 'Enable')]"           
                    }                                                                                                                                                                          
                ]
            },
            {  
                "name":"ActiveDirSetting",
                "label":"Active Directory",
                "subLabel":{  
                    "preValidation":"Configure Active Directory settings",
                    "postValidation":"Done"
                },
                "bladeTitle":"Active Directory settings (Autoscaling)",
                "elements":[  
                    {  
                        "name":"ActiveDirectoryCredentials",
                        "type":"Microsoft.Common.Section",
                        "label":"Active Directory Credentials",
                        "elements":[  
                            {  
                                "name":"ClientID",
                                "type":"Microsoft.Common.TextBox",
                                "label":"Client ID",
                                "defaultValue":"",
                                "toolTip":"Active Directory Client ID",
                                "constraints":{  
                                    "required":true,
                                    "regex":"^",
                                    "validationMessage":"Format should be valid Client ID"
                                },
                                "visible":true
                            },
                            {  
                                "name":"ClientSecret",
                                "type":"Microsoft.Common.PasswordBox",
                                "label":{  
                                    "password":"Client Secret",
                                    "confirmPassword":"Confirm password"
                                },
                                "toolTip":"Active Directory Client Secret",
                                "constraints":{  
                                    "required":true,
                                    "regex":"^",
                                    "validationMessage":"Format should be a valid Client Secret"
                                },
                                "options":{  
                                    "hideConfirmation":true
                                },
                                "visible":true
                            },
                            {  
                                "name":"TenantID",
                                "type":"Microsoft.Common.TextBox",
                                "label":"Tenant ID",
                                "defaultValue":"",
                                "toolTip":"Active Directory Tenant ID",
                                "constraints":{  
                                    "required":true,
                                    "regex":"^",
                                    "validationMessage":"Format should be a valid Tenant ID"
                                },
                                "visible":true
                            }
                        ],
                        "visible":true
                    }
                ]
            },            
            {  
                "name":"SLBSetting",
                "label":"SLB settings",
                "subLabel":{  
                    "preValidation":"Configure SLB settings",
                    "postValidation":"Done"
                },
                "bladeTitle":"SLB settings",
                "elements":[ 
                {
                    "name":"EnaDisAutoscaleSettings",
                    "type":"Microsoft.Common.OptionsGroup",
                    "label":"Enable/Disable advanced Autoscale settings",
                    "defaultValue":"Enable",
                    "toolTip":"Enable/Disable advanced Autoscale settings",
                    "constraints":{  
                        "allowedValues":[  
                            {  
                                "label":"Enable",
                                "value":"Enable"
                            },
                            {  
                                "label":"Disable",
                                "value":"Disable"
                            }
                        ]
                    },
                    "visible":true
                },                     
                {
                        "name":"RealsScalesetName",
                        "type":"Microsoft.Common.TextBox",
                        "label":"Real Servers Scale-set Name",
                        "defaultValue":"",
                        "toolTip":"Set Real Scaleset Name",
                        "constraints":{ 
                            "required": true,
                            "regex":"^[a-z0-9A-Z]{1,100}$",
                            "validationMessage": "Only alphanumeric characters are allowed"
                        },
                        "visible":"[equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Enable')]"           
                },                    
                {
                        "name": "RealsVirtualNetwork",
                        "type": "Microsoft.Network.VirtualNetworkCombo",
                        "label": {
                          "virtualNetwork": "Virtual network",
                          "subnets": "Subnets"
                        },
                        "toolTip": {
                          "virtualNetwork": "Choose Real server virtual network",
                          "subnets": "Choose Real server subnet"
                        },
                        "defaultValue": {
                          "name": "vnet01",
                          "addressPrefixSize": "/16"
                        },
                        "constraints": {
                          "minAddressPrefixSize": "/16"
                        },
                        "options": {
                          "hideExisting": false
                        },
                        "subnets": {
                          "subnet1": {
                            "label": "First subnet",
                            "defaultValue": {
                              "name": "subnet-1",
                              "addressPrefixSize": "/24"
                            },
                            "constraints": {
                              "minAddressPrefixSize": "/24",
                              "minAddressCount": 12,
                              "requireContiguousAddresses": true
                            }
                          }
                        },
                        "visible":true  
                },	                        
                {  
                    "name":"RealsCount",
                    "type":"Microsoft.Common.DropDown",
                    "label":"Number of discrete real servers",
                    "defaultValue":"0",
                    "toolTip":"",
                    "constraints":{  
                        "required":true,
                        "allowedValues":[  
                            {  
                                "label":"0",
                                "value":0
                            },
                            {  
                                "label":"1",
                                "value":1
                            },
                            {  
                                "label":"2",
                                "value":2
                            },
                            {  
                                "label":"3",
                                "value":3
                            },
                            {  
                                "label":"4",
                                "value":4
                            },
                            {  
                                "label":"5",
                                "value":5
                            },
                            {  
                                "label":"6",
                                "value":6
                            },
                            {  
                                "label":"7",
                                "value":7
                            },
                            {  
                                "label":"8",
                                "value":8
                            },
                            {  
                                "label":"9",
                                "value":9
                            },
                            {  
                                "label":"10",
                                "value":10
                            }
                        ]   
                    }
                },                       
                {  
                    "name":"RealServerSection",
                    "type":"Microsoft.Common.Section",
                    "label":"Real Servers IP Address",
                    "elements":[  
                        {  
                            "name":"Real1",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 1 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 0))]"
                        },
                        {  
                            "name":"Real2",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 2 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 1))]"
                        },
                        {  
                            "name":"Real3",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 3 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 2))]"
                        },
                        {  
                            "name":"Real4",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 4 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 3))]"
                        },
                        {  
                            "name":"Real5",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 5 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 4))]"
                        },
                        {  
                            "name":"Real6",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 6 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 5))]"
                        },
                        {  
                            "name":"Real7",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 7 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 6))]"
                        },
                        {  
                            "name":"Real8",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 8 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 7))]"
                        },
                        {  
                            "name":"Real9",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 9 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 8))]"
                        },
                        {  
                            "name":"Real10",
                            "type":"Microsoft.Common.TextBox",
                            "label":"Real 10 IP Address",
                            "defaultValue":"",
                            "constraints":{  
                                "required":true,
                                "regex":"^(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$",
                                "validationMessage":"Format should be a valid IPv4 address"
                            },
                            "visible":"[and(equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable'), greater(steps('SLBSetting').RealsCount, 9))]"
                        }
                    ],
                    "visible":"[equals(steps('SLBSetting').EnaDisAutoscaleSettings, 'Disable')]"
                },
                {  
                    "name":"SLBMetric",
                    "type":"Microsoft.Common.DropDown",
                    "label":"Metrics",
                    "defaultValue":"Least connections",
                    "toolTip":"The load balancing metrics you want to use",
                    "constraints":{  
                        "allowedValues":[  
                            {  
                                "label":"Least connections",
                                "value":"leastconns"
                            },
                            {  
                                "label":"Round robin",
                                "value":"roundrobin"
                            },
                            {  
                                "label":"Response time",
                                "value":"response"
                            }
                        ]
                    },
                    "visible": true
                },
                {
                    "name":"HttpHttpsSet",
                    "type":"Microsoft.Common.OptionsGroup",
                    "label":"HTTP/HTTPs/Both SLB settings",
                    "defaultValue":"HTTP",
                    "toolTip":"HTTP/HTTPs/Both SLB settings",
                    "constraints":{  
                        "allowedValues":[  
                            {  
                                "label":"HTTP",
                                "value":"HTTP"
                            },
                            {  
                                "label":"HTTPs",
                                "value":"HTTPs"
                            },
                            {  
                                "label":"Both",
                                "value":"Both"
                            }                            
                        ]
                    },
                    "visible":true
                },  
                {  
                    "name":"SlbPortNumber",
                    "type":"Microsoft.Common.TextBox",
                    "label":"Service Http Port Number",
                    "defaultValue":"80",
                    "constraints":{  
                        "regex":"^\\d+$",
                        "validationMessage":"Format should be valid tcp port"
                    },
                    "toolTip":"The port number of the http service you want to load balance",
                    "visible": "[or(equals(steps('SLBSetting').HttpHttpsSet, 'HTTP'), equals(steps('SLBSetting').HttpHttpsSet, 'Both'))]"
                }, 
                {  
                    "name":"SlbHttpsPortNumber",
                    "type":"Microsoft.Common.TextBox",
                    "label":"Service Https Port Number",
                    "defaultValue":"443",
                    "constraints":{  
                        "regex":"^\\d+$",
                        "validationMessage":"Format should be valid tcp port"
                    },
                    "toolTip":"The port number of the https service you want to load balance",
                    "visible": "[or(equals(steps('SLBSetting').HttpHttpsSet, 'HTTPs'), equals(steps('SLBSetting').HttpHttpsSet, 'Both'))]"
                },                                                              
                {  
                    "name":"sslPassphrase",
                    "type":"Microsoft.Common.PasswordBox",
                    "label":{  
                        "password":"SSL passphrase",
                        "confirmPassword":"Confirm password"
                    },
                    "toolTip":"Enter ssl key passphrase. Above 4 and below 40 characters",
                    "constraints":{  
                        "required":true,
                        "regex":"/^.{4,40}$/",
                        "validationMessage":"Format should be a valid SSL passphrase. Above 4 and below 40 characters"
                    },
                    "options":{  
                        "hideConfirmation":true
                    },
                    "visible":"[or(equals(steps('SLBSetting').HttpHttpsSet, 'HTTPs'), equals(steps('SLBSetting').HttpHttpsSet, 'Both'))]"
                },                              
                {
                    "name": "sslCertKeyBundleFile",
                    "type": "Microsoft.Common.FileUpload",
                    "label": "Key & certificate",
                    "toolTip": "",
                    "constraints": {
                      "required": true,
                      "accept": ".pem"
                    },
                    "options": {
                      "multiple": false,
                      "uploadMode": "file",
                      "openMode": "text",
                      "encoding": "UTF-8"
                    },
                    "visible": "[or(equals(steps('SLBSetting').HttpHttpsSet, 'HTTPs'), equals(steps('SLBSetting').HttpHttpsSet, 'Both'))]"
                  }                                    
                ]
            }                                                                        
        ],
        "outputs":{  
            "location":"[location()]",
            "AlteonClusterName":"[basics('AlteonClusterName')]",    
            "tagOwnerName":"[basics('AlteonClusterOwnerTagName')]",
            "tagUserDefinedName": "[basics('AlteonClusterUserDefinedTag').TagName]",
            "tagUserDefinedValue": "[basics('AlteonClusterUserDefinedTag').TagValue]",
            "adminUsername":"[steps('VmssInstanceCredentials').adminUsername]",
            "adminPassword":"[steps('VmssInstanceCredentials').adminPassword.password]",
            "CloudDeviceId":"[steps('GelSettings').CloudDeviceId]", 
            "PrimaryLlsIP":"[steps('GelSettings').PrimaryLlsIP]",
            "SecondaryLlsIP":"[steps('GelSettings').SecondaryLlsIP]",
            "ThroughputLicense": "[steps('GelSettings').ThroughputLicense]",
            "EntitlementId": "[steps('GelSettings').EntitlementId]",
            "DpsPackage": "[steps('GelSettings').DpsPackage]", 
            "AddOnSubsciption": "[steps('GelSettings').AddOnSubsciption]",
            "PublicIpName":"[steps('ScalesetSettings').LbPublicIpAddress.publicIpAddressName]",
            "PublicIpDomainName":"[steps('ScalesetSettings').LbPublicIpAddress]",
            "InstanceSize": "[steps('ScalesetSettings').InstanceSize]",
            "MinNumOfVMs":"[steps('ScalesetSettings').MinNumOfVMs]",
            "MaxNumOfVMs": "[steps('ScalesetSettings').MaxNumOfVMs]",
            "ScalesetScaleOut": "[steps('ScalesetSettings').ScalesetScaleOut]",            
            "ScalesetScaleIn": "[steps('ScalesetSettings').ScalesetScaleIn]",  
            "ClientID":"[steps('ActiveDirSetting').ActiveDirectoryCredentials.ClientID]",
            "ClientSecret":"[steps('ActiveDirSetting').ActiveDirectoryCredentials.ClientSecret]",
            "TenantID":"[steps('ActiveDirSetting').ActiveDirectoryCredentials.TenantID]",
            "RealsVirtualNetwork": "[steps('SLBSetting').RealsVirtualNetwork]",
            "RealsScalesetName": "[steps('SLBSetting').RealsScalesetName]",                      
            "RealsCount":"[string(steps('SLBSetting').RealsCount)]",           
            "SLBMetric":"[steps('SLBSetting').SLBMetric]",
            "Real1": "[steps('SLBSetting').RealServerSection.Real1]",
            "Real2": "[steps('SLBSetting').RealServerSection.Real2]",
            "Real3": "[steps('SLBSetting').RealServerSection.Real3]",
            "Real4": "[steps('SLBSetting').RealServerSection.Real4]",
            "Real5": "[steps('SLBSetting').RealServerSection.Real5]",
            "Real6": "[steps('SLBSetting').RealServerSection.Real6]",
            "Real7": "[steps('SLBSetting').RealServerSection.Real7]",
            "Real8": "[steps('SLBSetting').RealServerSection.Real8]",
            "Real9": "[steps('SLBSetting').RealServerSection.Real9]",
            "Real10": "[steps('SLBSetting').RealServerSection.Real10]",
            "SlbPortNumber":"[steps('SLBSetting').SlbPortNumber]",  
            "SlbHttpsPortNumber":"[steps('SLBSetting').SlbHttpsPortNumber]",             
            "sslCertNkeyFile": "[steps('SLBSetting').sslCertKeyBundleFile]"                        	                         

        }
    }
}